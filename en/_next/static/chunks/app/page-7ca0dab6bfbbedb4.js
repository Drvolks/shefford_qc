(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{83643:(e,t,n)=>{Promise.resolve().then(n.bind(n,60889))},60889:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>K});var i=n(95155),a=n(9816),r=n(95140),s=n(45309),l=n(77738),o=n(22471);let d=(0,o.A)((0,i.jsx)("path",{d:"M12 2 4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"}),"Navigation"),c=(0,o.A)((0,i.jsx)("path",{d:"m12 7.27 4.28 10.43-3.47-1.53-.81-.36-.81.36-3.47 1.53zM12 2 4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"}),"NavigationOutlined");var u=n(35761),x=n(49234),m=n(1521),h=n(75436),v=n(34883),g=n(64665),f=n(42479),p=n(63551),j=n(24736),A=n(85407),b=n(60160),y=n(12115),w=n(93849),L=n(70960),T=n(92516),M=n(99219),V=n(27485),D=n(46399),C=n(72989),F=n(78074);let I=["xAxis","yAxis","width","height","margin","colors","sx","showTooltip","tooltip","showHighlight","axisHighlight","children","slots","slotProps","data","plotType","valueFormatter","area","curve","className"],S={top:5,bottom:5,left:5,right:5},k=y.forwardRef(function(e,t){let{xAxis:n,yAxis:a,width:r,height:s,margin:l=S,colors:o,sx:d,showTooltip:c,tooltip:u,showHighlight:x,axisHighlight:m,children:h,slots:v,slotProps:g,data:f,plotType:p="line",valueFormatter:j=e=>null===e?"":e.toString(),area:k,curve:E="linear",className:P}=e,_=(0,b.A)(e,I),N=(0,A.A)({},x&&"bar"===p?{x:"band"}:{x:"none"},m);return(0,i.jsxs)(V.E,(0,A.A)({},_,{ref:t,series:[(0,A.A)({type:p,data:f,valueFormatter:j},"bar"===p?{}:{area:k,curve:E,disableHighlight:!x})],width:r,height:s,margin:l,className:P,xAxis:[(0,A.A)({id:D.nW,scaleType:"bar"===p?"band":"point",data:Array.from({length:f.length},(e,t)=>t),hideTooltip:void 0===n},n)],yAxis:[(0,A.A)({id:D.nW},a)],colors:o,sx:d,disableAxisListener:(!c||(null==u?void 0:u.trigger)!=="axis")&&(null==N?void 0:N.x)==="none"&&(null==N?void 0:N.y)==="none",children:["bar"===p&&(0,i.jsx)(w.b,{skipAnimation:!0,slots:v,slotProps:g,sx:{shapeRendering:"auto"}}),"line"===p&&(0,i.jsxs)(y.Fragment,{children:[(0,i.jsx)(L.b,{skipAnimation:!0,slots:v,slotProps:g}),(0,i.jsx)(T.w,{skipAnimation:!0,slots:v,slotProps:g}),(0,i.jsx)(M.U,{slots:v,slotProps:g})]}),(0,i.jsx)(F.R9,(0,A.A)({},N)),c&&(0,i.jsx)(C.b,(0,A.A)({},u,{slotProps:g,slots:v})),h]}))});var E=n(21455),P=n.n(E),_=n(7266),N=n(93962);function z(e){var t,n,o,A,b,y,w,L;let T=(0,u.default)(),M=(0,_.useFormatter)(),V=(0,_.useTranslations)(),D=e.graphData.map(e=>{let[,t]=e;return null!=t?Number(t.toFixed(1)):0}),C=null!==(t=e.graphMinValue)&&void 0!==t?t:Math.min(...D),F=null!==(n=e.graphMaxValue)&&void 0!==n?n:Math.max(...D),I=0==D.filter(e=>0!=e).length;function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maximumFractionDigits:1};return"number"==typeof e?M.number(e,t):e}function E(e){return void 0===e?"":M.dateTime(P().unix(e).toDate(),{timeStyle:"short"})}let z=null!==(o=e.formattedCurrentValue)&&void 0!==o?o:S(e.currentValue,{minimumFractionDigits:1,maximumFractionDigits:1}),H=null!==(A=e.formattedMinValue)&&void 0!==A?A:S(e.minValue),R=E(e.minTimestamp),U=null!==(b=e.formattedMaxValue)&&void 0!==b?b:S(e.maxValue),W=E(e.maxTimestamp),G=null!==(y=e.formattedAvgValue)&&void 0!==y?y:S(e.avgValue),K=null!==(w=e.formattedSumValue)&&void 0!==w?w:S(e.sumValue);return(0,i.jsxs)(g.A,{variant:"outlined",sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,i.jsx)(p.A,{title:e.cardTitle,action:e.metricUnit.length>0&&(0,i.jsx)(x.A,{variant:"outlined",size:"small",color:"info",label:e.metricUnit})}),(0,i.jsx)(f.A,{sx:{paddingY:0,flexGrow:1},children:(0,i.jsxs)(m.default,{direction:"row",alignItems:"center",spacing:1,children:["number"===e.metricKind&&(0,i.jsx)(j.A,{variant:(null!==(L=null==z?void 0:z.length)&&void 0!==L?L:0)<=5?"h1":"h2",sx:{fontWeight:"500"},children:z}),"wind"===e.metricKind&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(j.A,{variant:"h1",sx:{fontWeight:"500",translate:"0 8%"},children:(0,i.jsx)(c,{fontSize:"inherit",sx:{transform:"rotate(".concat(e.currentValue+180,"deg)")}})}),(0,i.jsx)(j.A,{variant:"h2",sx:{fontWeight:"500"},children:z})]}),(0,i.jsx)(h.A,{flexGrow:1}),!I&&(0,i.jsxs)(m.default,{direction:"row",spacing:1,flexWrap:"wrap",justifyContent:"flex-end",alignItems:"flex-end",children:[void 0!==H&&(0,i.jsxs)(m.default,{alignItems:"flex-end",children:[(0,i.jsx)(N.A,{icon:r.A,label:H}),(0,i.jsx)(j.A,{variant:"caption",sx:{color:"text.secondary"},children:R})]}),void 0!==U&&(0,i.jsxs)(m.default,{alignItems:"flex-end",children:[(0,i.jsx)(N.A,{icon:s.A,label:U}),(0,i.jsx)(j.A,{variant:"caption",sx:{color:"text.secondary"},children:W})]}),void 0!==G&&(0,i.jsxs)(m.default,{alignItems:"flex-end",children:[(0,i.jsx)(N.A,{icon:a.A,label:G}),e.avgLabel&&(0,i.jsx)(j.A,{variant:"caption",sx:{color:"text.secondary"},children:e.avgLabel})]}),void 0!==K&&(0,i.jsxs)(m.default,{alignItems:"flex-end",children:[(0,i.jsx)(N.A,{icon:l.A,label:K}),e.sumLabel&&(0,i.jsx)(j.A,{variant:"caption",sx:{color:"text.secondary"},children:e.sumLabel})]})]})]})}),(0,i.jsxs)(v.A,{children:[!I&&"number"===e.metricKind&&(0,i.jsx)(k,{height:40,plotType:e.graphPlotType,data:D,xAxis:{data:e.graphData.map(e=>{let[t]=e;return P().unix(t).toDate()}),valueFormatter:e=>M.dateTime(e,{timeStyle:"short"})},yAxis:{min:C,max:F},colors:[T.palette.grey[200]],curve:"natural",area:!0,disableAxisListener:!0,sx:{pointerEvents:"none"}}),!I&&"wind"===e.metricKind&&(0,i.jsx)(m.default,{direction:"row",spacing:0,justifyContent:"space-evenly",children:e.graphData.map(e=>{let[t,n]=e;return(0,i.jsx)(j.A,{variant:"body2",sx:{translate:"0 8%"},children:(0,i.jsx)(d,{fontSize:"inherit",htmlColor:T.palette.grey[200],sx:{transform:"rotate(".concat(n+180,"deg)")}},t)},t)})}),I&&(0,i.jsx)(j.A,{variant:"caption",height:40,sx:{color:"grey",fontStyle:"italic",textAlign:"center",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:V("Current.EmptyGraphMessage")})]})]})}var H=n(81699),R=n(69970),U=n(6574),W=n(56706),G=n(39241);function K(){let{data:e,isLoading:t,error:n}=(0,U.bc)(),{setTitle:a,setSubtitle:r}=(0,R.c)(),s=(0,_.useTranslations)(),l=(0,_.useFormatter)();return(0,y.useEffect)(()=>{a(s("Current.PageTitle")),r(e?l.dateTime(P().unix(e.report.time).toDate(),{dateStyle:"medium",timeStyle:"medium"}):"")}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(H.A,{data:e,isLoading:t,error:n}),e&&(0,i.jsxs)(m.default,{children:[(0,i.jsx)(G.A,{container:!0,spacing:2,columns:{xs:4,sm:8,md:12,lg:12,xl:16},children:e.observations.filter(e=>null!=e).map(e=>(0,i.jsx)(G.A,{size:4,children:(0,i.jsx)(z,{cardTitle:e.label,metricUnit:"windDir"===e.observation?"":e.unit,metricKind:"windDir"===e.observation?"wind":"number",currentValue:e.current,formattedCurrentValue:"windDir"===e.observation?e.currentCompass:void 0,minValue:e.min,minTimestamp:e.minTime,maxValue:e.max,maxTimestamp:e.maxTime,avgValue:e.avg,formattedAvgValue:"windDir"===e.observation?e.avgCompass:void 0,avgLabel:"windDir"===e.observation?e.avgLabel:void 0,graphData:e.graph,graphPlotType:(0,W.M)(e.observation),graphMinValue:(0,W.h)(e.observation)[0],graphMaxValue:(0,W.h)(e.observation)[1]})},e.observation))}),(0,i.jsx)(j.A,{mt:2,mb:-2,variant:"caption",sx:{color:"text.secondary"},children:(0,i.jsx)("em",{children:s("Current.PageFootnote")})})]})]})}},93962:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(95155),a=n(24736);function r(e){return(0,i.jsxs)(a.A,{sx:{display:"flex",alignItems:"center"},children:[e.icon&&(0,i.jsx)(e.icon,{fontSize:"inherit",sx:{color:"text.secondary"}}),e.label]})}},81699:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(95155),a=n(75436),r=n(96854),s=n(1396),l=n(93950),o=n(7266);function d(e){var t;let{data:n,isLoading:d,error:c,expectUndefinedData:u}=e,x=(0,o.useTranslations)();return d?(0,i.jsx)(a.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:(0,i.jsx)(r.A,{})}):null!==(t=!c&&void 0===n&&u)&&void 0!==t&&t?(0,i.jsx)(i.Fragment,{}):c||void 0===n?(0,i.jsx)(a.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:(0,i.jsxs)(s.A,{severity:"error",children:[(0,i.jsx)(l.A,{children:x("Global.DataLoadErrorTitle")}),"".concat(c||x("Global.DataLoadUnexpectedErrorMessage"))]})}):(0,i.jsx)(i.Fragment,{})}},69970:(e,t,n)=>{"use strict";n.d(t,{NavigationProvider:()=>l,c:()=>s});var i=n(95155),a=n(12115);let r=(0,a.createContext)({title:"",setTitle:()=>{},subtitle:"",setSubtitle:()=>{}}),s=()=>(0,a.useContext)(r);function l(e){let{children:t}=e,[n,s]=(0,a.useState)(""),[l,o]=(0,a.useState)("");return(0,i.jsx)(r.Provider,{value:{title:n,setTitle:s,subtitle:l,setSubtitle:o},children:t})}},6574:(e,t,n)=>{"use strict";n.d(t,{$N:()=>g,Fm:()=>x,Ts:()=>m,Xe:()=>c,bc:()=>u,k4:()=>h,ko:()=>v});var i=n(21455),a=n.n(i),r=n(31052),s=n.n(r),l=n(86679);a().extend(s());let o=async e=>{let t=await fetch(e);if(!t.ok){if(404===t.status)return;throw Error("Status code does not indicate success: ".concat(t.status))}return t.json()},d="/data";function c(){return(0,l.Ay)("".concat(d,"/global.json"),o)}function u(){return(0,l.Ay)("".concat(d,"/current.json"),o,{refreshInterval:a().duration(1,"minute").asMilliseconds()})}function x(){return(0,l.Ay)("".concat(d,"/week-to-date.json"),o,{refreshInterval:a().duration(1,"hour").asMilliseconds()})}function m(){return(0,l.Ay)("".concat(d,"/month-to-date.json"),o,{refreshInterval:a().duration(1,"hour").asMilliseconds()})}function h(e){return(0,l.Ay)("".concat(d,"/day-").concat(e,".json"),o,{refreshInterval:a().duration(1,"minute").asMilliseconds()})}function v(e){return(0,l.Ay)("".concat(d,"/month-").concat(e,".json"),o,{refreshInterval:a().duration(1,"day").asMilliseconds()})}function g(e){return(0,l.Ay)("".concat(d,"/year-").concat(e,".json"),o,{refreshInterval:a().duration(1,"day").asMilliseconds()})}},56706:(e,t,n)=>{"use strict";function i(e){return["rainRate","rain","UV","ET"].includes(e)?"bar":"line"}function a(e){switch(e){case"windDir":return[0,360];case"windSpeed":case"windGust":case"rainRate":case"rain":case"lightning_strike_count":case"UV":return[0,void 0];default:return[void 0,void 0]}}n.d(t,{M:()=>i,h:()=>a})},9816:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(95155),a=n(88241);let r=function(e){return(0,i.jsx)(a.A,{...e,viewBox:"0 0 24 24",children:(0,i.jsx)("g",{id:"average_24px",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",fillOpacity:"0.87",children:(0,i.jsx)("path",{d:"M12.4140625,12.6289062 L15.2265625,8 L17.7578125,8 L13.609375,14.2695312 L17.8867188,20.6796875 L15.3789062,20.6796875 L12.4492188,15.9335938 L9.51953125,20.6796875 L7,20.6796875 L11.2773438,14.2695312 L7.12890625,8 L9.63671875,8 L12.4140625,12.6289062 Z M8,4 L17,4 L17,6 L8,6 Z",fill:"#5F6368",fillRule:"nonzero"})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[870,529,441,517,358],()=>t(83643)),_N_E=e.O()}]);